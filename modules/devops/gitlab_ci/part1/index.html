
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    
    <meta name="author" content="Vladimir Penzin">
    
    
    <link rel="canonical" href="https://github.com/ForceFledgling/ForceFledgling/modules/devops/gitlab_ci/part1/">
    
    
    <link rel="prev" href="../../docker/home_work2/">
    
    
    <link rel="next" href="../part2/">
    
    
    <link rel="icon" href="../../../../assets/images/logo.svg">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.2.5">

    <!-- Social meta -->
    <meta property="og:title" content="NotiLog">
    <meta property="og:type" content="website">

    

    <meta property="og:image" content="https://github.com/ForceFledgling/ForceFledgling/modules/devops/gitlab_ci/part1/assets/images/preview.jpg">
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <meta property="og:url" content="https://github.com/ForceFledgling/ForceFledgling/modules/devops/gitlab_ci/part1/">
    <meta property="og:type" content="website">

    
      
        <title>GitLab CI Harbor - Личные заметки</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../assets/styles/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Верхний колонтитул">
    <a href="../../../.." title="Личные заметки" class="md-header__button md-logo" aria-label="Личные заметки" data-md-component="logo">
      
  <img src="../../../../assets/images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Личные заметки
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GitLab CI Harbor
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Поиск">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Поделиться" aria-label="Поделиться" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Очистить" aria-label="Очистить" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Инициализация поиска
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ForceFledgling/ForceFledgling" title="Перейти к репозиторию" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    github
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Вкладки" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../.." class="md-tabs__link">
          
  
  Главная

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../dev/" class="md-tabs__link">
          
  
  Dev

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../git/" class="md-tabs__link">
          
  
  Git

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../python/" class="md-tabs__link">
          
  
  Python

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  DevOps

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Навигация" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Личные заметки" class="md-nav__button md-logo" aria-label="Личные заметки" data-md-component="logo">
      
  <img src="../../../../assets/images/logo.svg" alt="logo">

    </a>
    Личные заметки
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ForceFledgling/ForceFledgling" title="Перейти к репозиторию" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Главная
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Главная
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Главная
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../courses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Каталог курсов
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Каталог заметок
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dev
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Dev
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Обзор
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Жизненный цикл разработки ПО
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Жизненный цикл разработки ПО
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/apps/sdlc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDLС (этапы, практики, методологии)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/apps/req/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Работа с требованиями (типы требований, DoD, DoR, декомпозиция и оценка)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/apps/cicd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI/CD (Continuous Integration и Continuous Delivery)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/apps/releases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releases (типы, отличия)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/apps/agile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Управлению разработкой (Agile, Scrum, aтрибуты, Канбан)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Структуры данных и алгоритмы
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/softdesign/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/arch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Архитектура
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/sysdesign/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/websec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web безопасность
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/qos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Обеспечение качества
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/performance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Оптимизация и производительность
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/front/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frontend Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Базы данных
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/softskills/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Soft Skills
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_14" >
        
          
          <label class="md-nav__link" for="__nav_2_14" id="__nav_2_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Прочее
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_14">
            <span class="md-nav__icon md-icon"></span>
            Прочее
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/other/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Обзор
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/other/diagrams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Диаграммы
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/other/analizes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Анализы
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Git
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Обзор
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Обзор
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Основы Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Основы Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/base/types-and-structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Типы и структуры данных
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/base/iterators-generators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Итераторы, генераторы
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/base/context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Менеджер контекста
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/base/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Исключения
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ООП в Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            ООП в Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/oop/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Объекты, области видимости
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/oop/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Объекты, области видимости
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/oop/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Объекты, области видимости
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/oop/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Объекты, области видимости
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Фреймворки и библиотеки
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Фреймворки и библиотеки
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/libs/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Типы и различия
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/libs/web/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/libs/orm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ORM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/libs/math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Math
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/parallelizm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Многопоточность и асинхронность
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Логирование, мониторинг
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Базы данных
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Тестирование и контроль качества кода
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            Тестирование и контроль качества кода
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/tests/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Пирамида тестирования и умение писать тесты
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/tests/linters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pylint, Pytest, PEP-8, PEP-257
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9" >
        
          
          <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Отладка и профилирование
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            Отладка и профилирование
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/debug/cython/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cython
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/debug/numba/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numba
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/debug/points/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Условные точки останова
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/debug/trace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Трассировка
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/debug/async/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Отладка многопоточного и асинхронного кода
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/debug/interpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Отладка на уровне интерпретатора
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    DevOps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            DevOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Вводный модуль
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/connect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Подключение к ВМ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Основы Shell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/home_work/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Домашнее задание №1
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Инструменты командной строки Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Инструменты командной строки Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Инструменты командной строки Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux_tools/home_work/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Домашнее задание №2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ansible
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Ansible
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ansible/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansibe ч.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ansible/home_work/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Домашнее задание №3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ansible/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible ч.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ansible/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible ч.3
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Наблюдаемость
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Наблюдаемость
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visiblity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Наблюдаемость
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visiblity/home_work/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Домашнее задание №4
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docker
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/home_work1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Домашнее задание №5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/compose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker и Compose
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/home_work2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Домашнее задание №6
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" checked>
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GitLab CI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            GitLab CI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    GitLab CI Harbor
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitLab CI ч.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home_work1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Домашнее задание №7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitLab CI ч.3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home_work2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Домашнее задание №8
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Vault
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Vault
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vault/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vault
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../isec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ISEC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../finish_work/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Итоговая самостоятельная работа
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/ForceFledgling/ForceFledgling/blob/main/docs/modules/devops/gitlab_ci/part1.md" title="Редактировать страницу" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


  <h1>GitLab CI Harbor</h1>

<p>Harbor</p>
<p>Harbor — это открытый реестр с управлением контейнерами с открытым исходным кодом, предназначенный для предприятий. Он построен на основе Docker Registry и добавляет дополнительные функции, такие как поддержка Helm Charts, сборка с использованием BuildKit, а также поддержка нескольких репозиториев.  </p>
<p>Harbor также предоставляет дополнительные функции, такие как аудит, учетные записи пользователей, ролевое управление доступом и автоматическое обновление доменов. Он может быть развернут на Kubernetes или на выделенных серверах и может быть настроен для работы в кластере высокой доступности.  </p>
<p>Harbor может быть интегрирован с инструментами CI/CD, такими как Jenkins, GitLab CI/CD и TeamCity, для автоматической сборки и развертывания приложений на основе изменений кода. Он также может быть интегрирован с системами управления уязвимостями, такими как WhiteSource и Snyk, для обеспечения безопасности приложений. Кроме того, Harbor поддерживает различные форматы образов, такие как Docker, Open Container Initiative (OCI) и Flatcar Container Linux (FCL).</p>
<p>Создание проекта в Harbor</p>
<p>Создадим проект в harbor и robot account для аутентификации.</p>
<p><img alt="" src="../img/harbor_create_projec.gif" /></p>
<p>Разрешим этого роботу работать только с Registry и запретим удалять образы. Копируем токен и сохраняем, его будем использовать позже в Gitlab.  </p>
<p>Теперь нам надо сформировать переменные окружение, которые мы будем использовать в нашем будущем CI. Запишем полученные от harbor данные в таком виде. Их мы будем использовать дальше, в наших CI скриптах.</p>
<p><strong>harbor.yml</strong></p>
<div class="highlight"><pre><span></span><code>variables:
  HARBOR_HOST: harbor.teta-mts.ru
  HARBOR_PROJECT: demo
  HARBOR_USER: robot_demo+gitlab
  HARBOR_PASSWORD: $__HARBOR_PASSWORD
</code></pre></div>
<p>GItLab</p>
<p>Gitlab — это популярная система контроля версий, изначально написанная на ruby, однако многие части позже переписаны на GoLang, которая предназначена для разработчиков программного обеспечения. Она имеет множество возможностей, которые делают ее привлекательной для использования в различных проектах.  </p>
<p>Одной из главных возможностей Gitlab является возможность управления репозиториями. Вы можете создавать новые репозитории, добавлять в них файлы и работать с ними. Также Gitlab позволяет работать с ветками кода, что позволяет разработчикам работать над разными задачами одновременно, не мешая друг другу.  </p>
<p>Еще одной важной возможностью Gitlab является поддержка различных протоколов, таких как SSH, HTTPS и GIT.  </p>
<p>Gitlab также имеет встроенный CI/CD (Continuous Integration/Continuous Delivery) инструмент, который позволяет автоматизировать процесс сборки, тестирования и развертывания приложений. Это значительно ускоряет процесс разработки и делает его более эффективным.  </p>
<p>Кроме того, Gitlab имеет встроенный сервис управления задачами, который позволяет командам обмениваться информацией о задачах и контролировать их выполнение.</p>
<p>Версии GitLab</p>
<p>GitLab Community Edition (CE) является бесплатной версией GitLab с открытым исходным кодом. Она предназначена для небольших команд и индивидуальных разработчиков и предлагает базовые функции для контроля версий, такие как создание репозиториев, ветки кода, слияния и разрешения конфликтов.  </p>
<p>Premium/Ultimate версия GitLab, также известная как GitLab Enterprise Edition (EE), предлагает расширенные функции и возможности, которые могут быть полезны для более крупных и сложных команд. Некоторые из этих функций включают в себя:<br />
</p>
<ul>
<li>Улучшенная масштабируемость и производительность;</li>
<li>Управление доступом на основе ролей (Role-Based Access Control, RBAC);</li>
<li>Интеграция со сторонними системами, такими как Jira и Trello</li>
<li>Шифрование репозиториев с помощью OpenPGP;</li>
<li>Поддержка нескольких сред выполнения, таких как Docker и Kubernetes;</li>
<li>Мониторинг и аудит действий пользователей;</li>
<li>Расширенные возможности CI/CD;</li>
<li>Интеграция с системами управления уязвимостями, такими как WhiteSource;</li>
<li>Многое другое.</li>
</ul>
<p>Важно отметить, что Premium версия также предлагает поддержку от команды GitLab и доступ к обновлениям безопасности и новым функциям, которые могут не быть доступны в Community Edition.</p>
<p><img alt="" src="../img/Rectangle_240652009.png" /></p>
<p>Интерфейс</p>
<p>GitLab имеет простой и интуитивно понятный интерфейс, который позволяет пользователям легко находить нужную информацию и выполнять необходимые действия. Основной экран GitLab содержит список проектов, к которым у пользователя есть доступ, а также информацию о последних действиях в этих проектах.  </p>
<p>Для каждого проекта отображается его название, владелец, описание, количество звезд и количество коммитов. При нажатии на проект открывается страница с подробной информацией о проекте, его репозиториях, merge request, issues и wiki. На странице репозитория можно просмотреть историю коммитов, скачать код или создать новый merge request или issue.  </p>
<p>На странице merge request можно просмотреть все открытые и закрытые merge request по проекту, а также создать новый merge request из ветки в репозитории или из внешнего репозитория другой системы контроля версий.  </p>
<p>На странице issues можно создавать, редактировать и закрывать задачи, а также назначать их конкретным разработчикам или группам. Wiki-страница позволяет создавать и редактировать документацию по проекту, которую могут просматривать все участники проекта.  </p>
<p>В целом, интерфейс GitLab удобен для использования и позволяет быстро находить нужную информацию, управлять проектами и репозиториями, а также взаимодействовать с другими участниками команды.</p>
<p><img alt="" src="../img/Rectangle_240652010.png" /></p>
<p>Репозитории</p>
<p>Репозитории организованы в группы, вложенность групп может быть любая, а уникальность имен групп и репозиториев должна обеспечиваться только в рамках каждой группы. Таким образом, в рамках одного GitLab может существовать множество репозиториев с одним названием.<br />
Например repo1, но находиться они должны в разных группах.  </p>
<p>Например, наличие repo1:</p>
<p>Корректно<br />
/group1/subgroup1/repo1<br />
/group2/subgroup1/repo1<br />
/group3/subgroup2/repo1</p>
<p>Каждый репозиторий имеет свои настройки. Однако принимает настройки всех вышестоящих над ним групп. Не обязательно настраивать каждый репозиторий отдельно, можно управлять настройками в рамках групп.</p>
<p>Группы видимости, доступа</p>
<p>В GitLab существуют следующие типы репозиториев:<br />
Публичные репозитории — доступны для всех пользователей GitLab и могут быть клонированы любым пользователем.<br />
Приватные репозитории — создаются для определенной команды или проекта и доступны только для авторизованных пользователей.<br />
Внутренние репозитории (Internal Repositories) — используются для хранения кода внутри компании и доступны только сотрудникам компании.<br />
Внешние репозитории (External Repositories) — позволяют работать с репозиториями сторонних систем контроля версий, таких как GitHub, Bitbucket и других.</p>
<p>Список доступа к репозиторию</p>
<p><img alt="" src="../img/Rectangle_240652011.png" /></p>
<p>Роли доступа</p>
<p>В GitLab есть несколько ролей доступа, которые определяют, какие действия пользователь может выполнять в проекте. Некоторые из них включают:  </p>
<p>Owner — владелец проекта имеет полный доступ ко всем аспектам проекта, включая репозитории, merge requests, issues, wiki и настройки проекта.  </p>
<p>Maintainer — сопровождающий имеет доступ к репозиториям и может создавать merge requests, но не может изменять настройки проекта или удалять репозитории.  </p>
<p>Developer — разработчик имеет доступ только к репозиториям, в которых он участвует, и может создавать и отправлять изменения в коде.  </p>
<p>Reporter (репортер) — это роль в GitLab, которая позволяет пользователю создавать и обновлять задачи (issues) в проекте. Репортеры могут описывать проблемы, добавлять ссылки на код и описывать предлагаемые решения. Они также могут комментировать на задачах и голосовать за них.  </p>
<p>Guest — гость имеет доступ только к просмотру информации о проекте и может оставлять комментарии на issues и merge requests.</p>
<p><img alt="" src="../img/image_456.png" /></p>
<p>Подробно о правах ролей в документации:<br />
<a href="https://docs.gitlab.com/ee/user/permissions.html">https://docs.gitlab.com/ee/user/permissions.html</a></p>
<p>Protected branch and tags</p>
<p>Protected branch — это функция в GitLab, которая позволяет защитить определенные ветки в репозитории от случайных или нежелательных изменений. Она может быть полезна для веток, содержащих стабильную версию кода, или для веток с экспериментальным кодом, который не должен быть случайно объединен в основную ветку.  </p>
<p>Protected branches позволяют определить правила, которые должны быть выполнены перед тем, как можно будет выполнить слияние в защищенную ветку. Эти правила могут включать требования к прохождению автоматических тестов, наличие определенного количества голосов за слияние или даже необходимость утверждения слияния от определенного члена команды.  </p>
<p>Аналогичные настройки можно применять и к тэгам. Это помогает обеспечить качество кода и согласованность процесса разработки, а также предотвращает случайные изменения в важных частях кодовой базы.</p>
<p><img alt="" src="../img/image_1892295201.png" /></p>
<p>Интеграции</p>
<p>GitLab имеет множество интеграций с другими системами, включая:  </p>
<p>Jira для управления задачами и назначения их разработчикам;<br />
Trello для организации работы в командах;<br />
Jenkins для автоматического выполнения тестов и сборки проектов;<br />
Slack для обмена сообщениями и уведомлениями о событиях в GitLab;<br />
GitHub для совместной работы с репозиториями и обмена кодом между проектами;<br />
Docker для управления контейнерами и их образами;<br />
Kubernetes для управления кластерами и развертывания приложений в облаке.  </p>
<p>Полный список можно посмотреть в GitLab или документации:<br />
<a href="https://archives.docs.gitlab.com/15.11/ee/user/project/integrations/index.html">https://archives.docs.gitlab.com/15.11/ee/user/project/integrations/index.html</a></p>
<p>web-hooks</p>
<p>GitLab поддерживает несколько типов веб-хуков, которые позволяют автоматически выполнять определенные действия при изменении репозитория или других событиях в системе.  </p>
<p>Некоторые из них включают:<br />
Push Hook — срабатывает при каждом push-обновлении репозитория;<br />
Merge Request Hook — срабатывает при создании, изменении или удалении merge request;<br />
Issue Hook — срабатывает при создании, обновлении или закрытии issue;<br />
Pipeline Hook — срабатывает после успешного завершения pipeline;<br />
Tag Push Hook — срабатывает при добавлении новой тега в репозиторий.</p>
<p><img alt="" src="../img/image_1892295202.png" /></p>
<p>Токены доступа</p>
<p>Токен доступа в GitLab используется для аутентификации при выполнении Git-запросов. Он позволяет заменить ваш пароль и обеспечить более безопасный способ подключения к репозиторию. Уровень доступа к токену определяет, какие операции можно выполнять с проектом, например, только чтение или чтение/запись. В GitLab существует несколько типов токенов доступа:  </p>
<p>Personal access tokens (PAT) — персональный токен доступа, который может использоваться для доступа к GitLab API. Он может быть создан пользователем в своем профиле и имеет ограниченный срок действия.  </p>
<p>Deploy tokens — токены развертывания, которые используются для аутентификации при выполнении задач развертывания. Они создаются проектом и имеют ограниченный срок действия и область видимости.  </p>
<p>Job tokens — токены заданий, используемые для аутентификации в GitLab CI/CD. Они создаются заданиями и имеют ограниченный срок действия, область видимости и могут быть использованы только один раз.  </p>
<p>System OAuth tokens — системные токены OAuth, которые используются для авторизации приложений на основе OAuth. Они создаются администратором GitLab и имеют неограниченный срок действия.</p>
<p>Merge Request</p>
<p>Merge request — это механизм в GitLab, который позволяет разработчикам предлагать изменения в основном репозитории на рассмотрение. Когда разработчик хочет внести изменения в существующий репозиторий, он создает новую ветку с изменениями, затем отправляет запрос на слияние (merge request) в основную ветку репозитория.  </p>
<p>MR — основной функционал Gitlab. Имеет продвинутые настройки и гибкие настройки.  </p>
<p>MR позволяет автоматизировать вливание нового кода в ветки, с помощью автоматизированных проверок через pipeline. А так же валидировать код устанавливая различные ограничения на вливание веток, например список лиц Reviewers — кто валидирует вносимые доработки.  </p>
<p>Другие разработчики могут просмотреть предложенные изменения, обсудить их и принять или отклонить слияние. Если слияние принято, оно автоматически выполняется, и изменения добавляются в основную ветку репозитория. Если слияние отклонено, разработчик может внести изменения в свою ветку и отправить новый merge request.</p>
<p><img alt="" src="../img/image_1892295203.png" /></p>
<p>GitLab API</p>
<p>GitLab API — это набор методов и протоколов, которые позволяют разработчикам и другим пользователям взаимодействовать с GitLab через программы и скрипты. Он предоставляет RESTful интерфейс для выполнения различных операций, таких как создание проектов, управление репозиториями, создание и обновление задач, просмотр статистики и многое другое.  </p>
<p>API может быть использовано для автоматизации рутинных задач, интеграции GitLab с другими системами и приложениями, а также для создания пользовательских инструментов и расширений, которые улучшают работу с GitLab. GitLab API предоставляет следующие возможности:  </p>
<p>Создание и управление проектами<br />
Управление репозиториями<br />
Создание, обновление и закрытие задач (issues)<br />
Управление пулл-реквестами (pull requests)<br />
Просмотр статистики проекта<br />
Интеграция с другими системами через Webhooks<br />
Аутентификация пользователей<br />
Управление правами доступа пользователей к проектам и репозиториям<br />
Получение информации о ходе выполнения Pipeline-ов<br />
Работа с метками (tags)<br />
и многое другое… <a href="https://docs.gitlab.com/ee/api/api_resources.html">https://docs.gitlab.com/ee/api/api_resources.html</a></p>
<p>GitLab CI</p>
<p>Рассмотрим интегрированный в GitLab инструмент для разработки CI/CD пайплайнов — GitLab CI. Верхнеуровнего GitLab CI состоит из следующих компонентов:<br />
<strong>проект</strong> — код, над которым выполняются различные действия (сборка, статический анализ, запуск тестов, развертывание и т. д.), для конфигурирования пайплайнов в проекте (или группе проектов) можно задавать переменные CI/CD;<br />
<strong>раннер</strong> — сервер, запускающий задачи CI/CD; он регулярно опрашивает сервер GitLab;<br />
<strong>пайплайн</strong> — набор запускаемых задач CI/CD, каждая задача запускается независимо (иногда на разных раннерах).  </p>
<p>GitLab СI пайплайн представляет собой YAML файл, задающий задачи и их зависимости. В задаче содержится информация, когда запускать задачу (правила), где ее запускать (теги раннера) и что в ней делать (скрипты). Действия в задаче описываются shell скриптом.</p>
<p>Локальная отладка пайплайнов</p>
<p>Для начала рассмотрим инструменты для локальной валидации и запуска пайплайнов. Мы, очевидно, можем загружать все изменения в GitLab и проверять пайплайны, запуская их, но это довольно долго.</p>
<p>GitLab CLI (glab)</p>
<p>В GitLab есть встроенный инструмент для синтаксической проверки. gitlab-ci.yml: ci lint. Его можно запускать из консольной утилиты glab.  </p>
<p>Для начала создадим персональный токен доступа:<br />
</p>
<ol>
<li>Перейдите по <a href="https://git.devops-teta.ru/-/profile/personal_access_tokens">ссылке</a>;</li>
<li>Введите в поле ввода Token name произвольное имя, например glab или gitlab-cli;</li>
<li>Очистите Expiration date, нажав на крест;</li>
<li>Выберите права: api;</li>
<li>Нажмите на кнопку Create personal access token;</li>
<li>Скопируйте сгенерированный токен из появившегося поля Your new personal access token;</li>
<li>Сохраните токен в файл token. txt на ВМ1.</li>
</ol>
<p>Теперь загрузим и настроим эту утилиту:</p>
<div class="highlight"><pre><span></span><code>$ filename=$(curl -LOsw &#39;%{filename_effective}&#39; https://gitlab.com/gitlab-org/cli/-/releases/v1.34.0/downloads/glab_1.34.0_Linux_x86_64.deb)
$ sudo apt install --yes $(realpath -- &quot;$filename&quot;)
$ glab auth login --stdin --hostname git.devops-teta.ru &lt;token.txt
</code></pre></div>
<p>Запуск проверки синтаксиса с помощью glab:</p>
<div class="highlight"><pre><span></span><code>$ glab ci lint .gitlab-ci.yml

 Validating...
✓ CI/CD YAML is valid!
</code></pre></div>
<p>GitLab CI Local</p>
<p>Также существует сторонняя утилита <a href="https://github.com/firecow/gitlab-ci-local">gitlab-ci-local</a>, которая позволяет валидировать пайплайны, запускать их целиком и задавать произвольные переменные. При помощи этой утилиты можно почти полностью тестировать пайплайны, но она реимплементирует GitLab CI, поэтому не стоит полностью полагаться на ее поведение.  </p>
<p>Эта утилита написана на NodeJS, установим NodeJS 18 из <a href="https://github.com/nodesource/distributions">Nodesource</a> (в репозиториях Ubuntu находится версия 12, слишком старая для этого пакета):</p>
<div class="highlight"><pre><span></span><code>$ sudo apt-get install --yes curl gnupg ca-certificates
$ sudo mkdir -p /etc/apt/keyrings
$ curl -fsSL https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/nodesource.gpg
$ echo &quot;deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_18.x nodistro main&quot; | sudo tee /etc/apt/sources.list.d/nodesource.list
$ sudo apt-get update
$ sudo apt install nodejs -y
</code></pre></div>
<p>Запускать gitlab-ci-local будем командой:</p>
<div class="highlight"><pre><span></span><code>$ npx --user --package gitlab-ci-local@4.44.0 -- gitlab-ci-local
</code></pre></div>
<p>Добавим алиас для этой команды в ~/.bashrc (или ~/.bash_profile), чтобы упростить запуск:</p>
<div class="highlight"><pre><span></span><code>$ echo &quot;alias gitlab-ci-local=&#39;npx --user --package gitlab-ci-local@4.44.0 -- gitlab-ci-local&#39;&quot; &gt;&gt; ~/.bashrc
</code></pre></div>
<p>Использовать эти инструменты будем далее.</p>
<p>Первый пайплайн</p>
<p>Вернемся к проекту <a href="https://git.devops-teta.ru/materials/counter-frontend">counter-frontend</a> и напишем для него сборочный пайплайн, который будет:<br />
</p>
<ul>
<li>компилировать проект;</li>
<li>проверять исходный код при помощи eslint;</li>
<li>публиковать Docker-образ в Harbor.</li>
</ul>
<p>Fork проекта и .gitlab-ci.yml</p>
<p>Для начала форкнем проект:  </p>
<ol>
<li>Перейдите в проект <a href="https://git.devops-teta.ru/materials/counter-frontend">counter-frontend</a>;</li>
<li>Нажмите на кнопку Fork сверху справа;</li>
<li>В качестве целевой выберите группу из п. 1.</li>
</ol>
<p>После этого склонируйте проект и создайте в его корне файл. gitlab-ci.yml:</p>
<div class="highlight"><pre><span></span><code>$ git clone git@git.devops-teta.ru:${YOUR_SUBGROUP}/counter-frontend.git
$ cd counter-frontend
$ touch .gitlab-ci.yml
</code></pre></div>
<p>Пайплайны GitLab CI состоят из задач (<em>jobs</em>), разделенных на стадии (<em>stages</em>). По-умолчанию задачи выполняются в соответствии с их стадиями, в одной стадии задачи выполняются параллельно.<br />
Напишем скелет нашего пайплайна:</p>
<div class="highlight"><pre><span></span><code>stages:
  - build
  - publish

# @NoArtifactsToSource
Lint:
  stage: .pre

# @NoArtifactsToSource
Build Package:
  stage: build

# @NoArtifactsToSource
Publish Package:
  stage: publish
</code></pre></div>
<p># @NoArtifactsToSource — аннотация gitlab-ci-local, пока мы ее проигнорируем</p>
<p>stages</p>
<p>Стадии задаются директивой <a href="https://docs.gitlab.com/ee/ci/yaml/#stage">stages</a>, если она не указана, то пайплайн будет содержать следующие стадии: build, test, deploy. Также пайплайн всегда содержит две служебные стадии .pre и .post, задачи в .pre выполняются перед всеми остальными, .post — после.  </p>
<p>Для более точного упорядочивания задач используют директиву <a href="https://docs.gitlab.com/ee/ci/yaml/#needs">needs</a>, которая явно указывает зависимые задачи:</p>
<div class="highlight"><pre><span></span><code>stages:
  - build
  - publish

# @NoArtifactsToSource
Lint:
  stage: .pre
  needs: []

# @NoArtifactsToSource
Build Package:
  stage: build
  needs: []

# @NoArtifactsToSource
Publish Package:
  stage: publish
  needs:
    - Build Package
</code></pre></div>
<p>При указании needs задачи игнорируют свои стадии и запускаются после родительских. Далее мы будем указывать зависимости задач явно.<br />
Теперь укажем, что именно выполняется в задаче.  </p>
<p>Для этого воспользуемся директивами <a href="https://docs.gitlab.com/ee/ci/yaml/#image">image</a> и <a href="https://docs.gitlab.com/ee/ci/yaml/#script">script</a>. Первая указывает в каком Docker-образе запускается задача, вторая — shell-скрипт, выполняющийся в задаче.</p>
<div class="highlight"><pre><span></span><code>stages:
  - build
  - publish

# @NoArtifactsToSource
Lint:
  stage: .pre
  needs: []
  image:
    name: registry.devops-teta.ru/materials/ci/images/nodejs:18.18.2-bookworm
    entrypoint: [&quot;&quot;]
  script:
    - echo 1

# @NoArtifactsToSource
Build Package:
  stage: build
  needs: []
  image:
    name: registry.devops-teta.ru/materials/ci/images/nodejs:18.18.2-bookworm
    entrypoint: [&quot;&quot;]
  script:
    - echo 2

# @NoArtifactsToSource
Publish Package:
  stage: publish
  needs:
    - Build Package
  image:
    name: registry.devops-teta.ru/materials/ci/images/kaniko:1.9.1    
    entrypoint: [&quot;&quot;]
  script:
    - echo 3
</code></pre></div>
<p>variables</p>
<p>Параметры пайплайна задаются при помощи переменных, директивой <a href="https://docs.gitlab.com/ee/ci/yaml/#variables">variables</a> в пайплайне или в настройках проекта/группы. Эти переменные пробрасываются в скрипты как переменные окружения, также большинство директив пайплайна поддерживают подстановку переменных с синтаксисом, аналогичным Shell.<br />
Вынесем имена образов в переменные:</p>
<div class="highlight"><pre><span></span><code>stages:
  - build
  - publish
variables:
  NODEJS_IMAGE: registry.devops-teta.ru/materials/ci/images/nodejs:18.18.2-bookworm
  KANIKO_IMAGE: registry.devops-teta.ru/materials/ci/images/kaniko:1.9.1  

# @NoArtifactsToSource
Lint:
  stage: .pre
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  script:
    - echo 1

# @NoArtifactsToSource
Build Package:
  stage: build
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  script:
    - echo 2

# @NoArtifactsToSource
Publish Package:
  stage: publish
  needs:
    - job: Build Package
      artifacts: true
  image:
    name: $KANIKO_IMAGE
    entrypoint: [&quot;&quot;]
  script:
    - echo 3
</code></pre></div>
<p>Build Package</p>
<p>Начнем наполнять пайплайн, сначала напишем скрипт сборки в Build Package:</p>
<div class="highlight"><pre><span></span><code>variables:
  NODEJS_IMAGE: registry.devops-teta.ru/materials/ci/images/nodejs:18.18.2-bookworm

# @NoArtifactsToSource
Build Package:
  stage: build
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  script:
    - npm clean-install
    - npm run build
    - mv .next/standalone dist
    - mv public dist/public
    - mv .next/static dist/.next/static
</code></pre></div>
<p>Запустим Build Package при помощи gitlab-ci-local:</p>
<div class="highlight"><pre><span></span><code>$ gitlab-ci-local &#39;Build Package&#39;
Using fallback git user.name
Using fallback git user.email
parsing and downloads finished in 82 ms
Build Package   starting registry.devops-teta.ru/materials/ci/images/nodejs:18.18.2-bookworm (build)
Build Package   copied to docker volumes in 5 s
Build Package   $ npm clean-install
Build Package   &gt;
Build Package   &gt; added 282 packages, and audited 283 packages in 25s
Build Package   &gt;
Build Package   &gt; 107 packages are looking for funding
Build Package   &gt;   run `npm fund` for details
Build Package   &gt;
Build Package   &gt; 3 vulnerabilities (1 low, 2 moderate)
Build Package   &gt;
Build Package   &gt; To address all issues, run:
Build Package   &gt;   npm audit fix --force
Build Package   &gt;
Build Package   &gt; Run `npm audit` for details.
Build Package   $ npm run build
Build Package   &gt;
Build Package   &gt; &gt; counter@0.1.0 build
Build Package   &gt; &gt; next build
Build Package   &gt;
Build Package   &gt; ⚠ No build cache found. Please configure build caching for faster rebuilds. Read more: https://nextjs.org/docs/messages/no-cache
Build Package   &gt; Attention: Next.js now collects completely anonymous telemetry regarding usage.
Build Package   &gt; This information is used to shape Next.js&#39; roadmap and prioritize features.
Build Package   &gt; You can learn more, including how to opt-out if you&#39;d not like to participate in this anonymous program, by visiting the following URL:
Build Package   &gt; https://nextjs.org/telemetry
Build Package   &gt;
Build Package   &gt;    Creating an optimized production build ...
Build Package   &gt;  ✓ Compiled successfully
Build Package   &gt;    Linting and checking validity of types ...
Build Package   &gt;    Collecting page data ...
Build Package   &gt;    Generating static pages (0/4) ...
   Generating static pages (1/4)
   Generating static pages (2/4)
   Generating static pages (3/4)
 ✓ Generating static pages (4/4)
Build Package   &gt;    Finalizing page optimization ...
Build Package   &gt;
Build Package   &gt; Route (app)                              Size     First Load JS
Build Package   &gt; ┌ ○ /                                    897 B          80.1 kB
Build Package   &gt; └ ○ /_not-found                          878 B          80.1 kB
Build Package   &gt; + First Load JS shared by all            79.2 kB
Build Package   &gt;   ├ chunks/864-65fc85184976041b.js       26.6 kB
Build Package   &gt;   ├ chunks/fd9d1056-cda7bdae809f14dd.js  50.8 kB
Build Package   &gt;   ├ chunks/main-app-0cd0fef21f043671.js  221 B
Build Package   &gt;   └ chunks/webpack-bf1a64d1eafd2816.js   1.61 kB
Build Package   &gt;
Build Package   &gt;
Build Package   &gt; ○  (Static)  automatically rendered as static HTML (uses no initial props)
Build Package   &gt;
Build Package   $ mv .next/standalone dist
Build Package   $ mv public dist/public
Build Package   $ mv .next/static dist/.next/static
</code></pre></div>
<p>Обратим внимание на предупреждения сборщика NextJS: ему не нравится отсутствие кеша сборки, также нас предупреждают о сборе телеметрии. Выключим сбор телеметрии и добавим кеширование.<br />
Телеметрия выключается переменной окружения NEXT_TELEMETRY_DISABLED:</p>
<div class="highlight"><pre><span></span><code>Build Package:
  stage: build
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    NEXT_TELEMETRY_DISABLED: &quot;1&quot;
  script:
    - npm clean-install
    - npm run build
    - mv .next/standalone dist
    - mv public dist/public
    - mv .next/static dist/.next/static
</code></pre></div>
<p>Переменные можно задавать на уровне пайплайна и конкретных задач. Используйте глобальные переменные, чтобы указывать переменные использующиеся в нескольких задачах или параметры пайплайна, которые могут быть переопределены пользователями в параметрах группы/проекта или при ручном запуске пайплайна/задачи. Переменные задач следует использовать для непереопределяемых констант.</p>
<p>cache</p>
<p>Перейдем к кешированию. GitLab CI поддерживает кеширование файлов для ускорения сборок. В отличие от артефактов кеш хранится в раннере и необязателен для успешного запуска задачи. В Build Package мы можем закешировать кеш пакетного менеджера npm, установленные пакеты в папке node_modules и сборочный кеш NextJS в .next/cache:</p>
<div class="highlight"><pre><span></span><code># @NoArtifactsToSource
Build Package:
  stage: build
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    NEXT_TELEMETRY_DISABLED: &quot;1&quot;
    NPM_CONFIG_CACHE: $CI_PROJECT_DIR/.cache/npm
  cache:
    - key: npm-packages
      paths:
        - .cache
      unprotect: true
    - key:
        prefix: npm-node-modules
        files:
          - package-lock.json
      paths:
        - node_modules
      unprotect: true
    - key: npm-next-cache
      paths:
        - .next/cache
  script:
    - if [ ! -e node_modules ] ; then npm clean-install ; fi
    - npm run build
    - mv .next/standalone dist
    - mv public dist/public
    - mv .next/static dist/.next/static
</code></pre></div>
<p>Параметры кеширования задаются директивой <a href="https://docs.gitlab.com/ee/ci/yaml/#cache">cache</a>. Ключом кеширования является либо строка, либо хеш файлов. Здесь мы используем lock-файл как ключ кеширования установленных модулей, чтобы инвалидировать кеш при любом изменении зависимостей.  </p>
<p>По умолчанию GitLab CI отделяет кеш для запущенных в защищенных ветках задач, опция unprotect: true отключает это поведение. Таким образом мы ускорим сборки в защищенных ветках, но пользователи смогут переопределить пайплайн в незащищенной ветке и переписать значение кеша.</p>
<p>artifacts</p>
<p>Собранный проект нужно передать в задачу Publish Package, чтобы упаковать его в Docker-образ. Для передачи информации между задачами используются артефакты:</p>
<div class="highlight"><pre><span></span><code># @NoArtifactsToSource
Build Package:
  stage: build
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    NEXT_TELEMETRY_DISABLED: &quot;1&quot;
    NPM_CONFIG_CACHE: $CI_PROJECT_DIR/.cache/npm
  cache:
    - key: npm-packages
      paths:
        - .cache
      unprotect: true
    - key:
        prefix: npm-node-modules
        files:
          - package-lock.json
      paths:
        - node_modules
      unprotect: true
    - key: npm-next-cache
      paths:
        - .next/cache
  script:
    - if [ ! -e node_modules ] ; then npm clean-install ; fi
    - npm run build
    - mv .next/standalone dist
    - mv public dist/public
    - mv .next/static dist/.next/static
  artifacts:
    expire_in: 1h
    paths:
      - dist
</code></pre></div>
<p>Директива <a href="https://docs.gitlab.com/ee/ci/yaml/#artifacts">artifacts</a> задает параметры экспорта артефактов из задачи. Время жизни артефактов задается параметром <a href="https://docs.gitlab.com/ee/ci/yaml/#artifactsexpire_in">expire_in</a>, здесь мы указали один час. Артефакты задач из последнего запущенного пайплайна не подчиняются этому правилу, они хранятся постоянно, если такое поведение не выключено в настройках проекта.</p>
<p>Lint</p>
<p>Напишем скрипт для задачи Lint:</p>
<div class="highlight"><pre><span></span><code># @NoArtifactsToSource
Lint:
  stage: .pre
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    ESLINT_CODE_QUALITY_REPORT: eslint.codequality.json
    NEXT_TELEMETRY_DISABLED: &quot;1&quot;
    NPM_CONFIG_CACHE: $CI_PROJECT_DIR/.cache/npm
  cache:
    - key: npm-packages
      paths:
        - .cache
    - key:
        prefix: npm-node-modules
        files:
          - package-lock.json
      paths:
        - node_modules
  script:
    - if [ ! -e node_modules ] ; then npm clean-install ; fi
    - npm run lint -- --format gitlab ## В ситуациях, когда npm-скрипт запускается из другого npm-скрипта, перед передачей флага CLI также необходимо добавить два тире.
  artifacts:
    paths:
      - $ESLINT_CODE_QUALITY_REPORT
    reports:
      codequality: $ESLINT_CODE_QUALITY_REPORT
</code></pre></div>
<p>Артефакты также используются для генерации различных отчетов. Здесь мы сканируем проект статическим анализатором eslint и экспортируем его вывод в формате, поддерживаемом GitLab. Другие поддерживаемые отчеты смотрите в <a href="https://docs.gitlab.com/ee/ci/yaml/artifacts_reports.html">документации</a>.<br />
Запустим задачу Lint:</p>
<div class="highlight"><pre><span></span><code>$ gitlab-ci-local Lint
parsing and downloads finished in 71 ms
Lint            starting registry.devops-teta.ru/materials/ci/images/nodejs:18.18.2-bookworm (.pre)
Lint            copied to docker volumes in 5 s
Lint            imported cache &#39;npm-packages&#39; in 5 s
Lint            $ if [ ! -e node_modules ] ; then npm clean-install ; fi
Lint            &gt;
Lint            &gt; added 282 packages, and audited 283 packages in 13s
Lint            &gt;
Lint            &gt; 107 packages are looking for funding
Lint            &gt;   run `npm fund` for details
Lint            &gt;
Lint            &gt; 3 vulnerabilities (1 low, 2 moderate)
Lint            &gt;
Lint            &gt; To address all issues, run:
Lint            &gt;   npm audit fix --force
Lint            &gt;
Lint            &gt; Run `npm audit` for details.
Lint            $ npm run lint -- --format gitlab
Lint            &gt;
Lint            &gt; &gt; counter@0.1.0 lint
Lint            &gt; &gt; next lint --format GitLab
Lint            &gt;
Lint            &gt; ✔ No ESLint warnings or errors
Lint            finished in 5 s
Lint            exported cache .cache &#39;npm-packages&#39; in 5 s
Lint            exported cache node_modules &#39;md-d21182c067aca226931e07dfadf5d468a9ab9e7d&#39; in 5 s
Lint            exported artifacts in 5 s
</code></pre></div>
<p>Publish Package</p>
<p>Docker DIND</p>
<p>Docker DIND (Docker in Docker) — это техника, которая позволяет запускать контейнеры Docker внутри других контейнеров Docker. Это полезно в ситуациях, когда требуется изоляция или когда основное приложение должно работать внутри контейнера для обеспечения безопасности или стандартизации окружения.  </p>
<p>Docker DIND работает, запуская Docker-демона (обычно dockerd) внутри уже работающего контейнера Docker. Это позволяет использовать Docker-команды внутри контейнера, не влияя на хост-систему. Основной Docker-демон (на хост-системе) управляет контейнерами, которые запускаются внутри других контейнеров. Это обеспечивает изоляцию контейнеров и гарантирует, что они не будут иметь доступ к ресурсам хост-системы.  </p>
<p>В результате Docker DIND обеспечивает повышенную безопасность и изоляцию, позволяя разработчикам и системным администраторам запускать Docker-контейнеры внутри контейнеров для тестирования или разработки.</p>
<p>Kaniko</p>
<p>Kaniko — это инструмент для создания Docker-образов из Git-репозиториев. Он работает путем извлечения исходного кода из Git, компиляции его в целевой системе и создания Docker-образа из скомпилированных файлов.  </p>
<p>Для сборки образа воспользуемся <a href="https://github.com/GoogleContainerTools/kaniko">kaniko</a>. Она поддерживает не все директивы Dockerfile, но позволяет собирать контейнеры в кластерах Kubernetes и Docker контейнерах без дополнительных настроек.<br />
Детали по сборке при помощи kaniko смотрите в <a href="https://docs.gitlab.com/ee/ci/docker/using_kaniko.html">документации</a>.  </p>
<p>Напишем скрипт Publish Package:</p>
<div class="highlight"><pre><span></span><code>Publish Package:
  stage: publish
  needs:
    - job: Build Package
      artifacts: true
  interruptible: false
  image:
    name: $KANIKO_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    HARBOR_HOST: harbor.devops-teta.ru
    HARBOR_PROJECT: demo
    HARBOR_USER: robot_demo+gitlab
    HARBOR_PASSWORD: $__HARBOR_PASSWORD
  script:
    - b64_auth=$(printf &#39;%s:%s&#39; &quot;$HARBOR_USER&quot; &quot;$HARBOR_PASSWORD&quot; | base64 | tr -d &#39;\n&#39;)
    - &gt;-
      printf &#39;{&quot;auths&quot;: {&quot;%s&quot;: {&quot;auth&quot;: &quot;%s&quot;}}}&#39; &quot;$HARBOR_HOST&quot; &quot;$b64_auth&quot;
      &gt;/kaniko/.docker/config.json
    - &gt;-
      /kaniko/executor
      --cache
      --use-new-run
      --skip-unused-stages
      --context &quot;$CI_PROJECT_DIR&quot;
      --dockerfile &quot;$CI_PROJECT_DIR/Dockerfile&quot;
      --destination &quot;$HARBOR_HOST/$HARBOR_PROJECT/$CI_PROJECT_NAME:${CI_COMMIT_REF_NAME}_${CI_COMMIT_SHORT_SHA}&quot;
      --cache-repo &quot;$HARBOR_HOST/$HARBOR_PROJECT/$CI_PROJECT_NAME/cache&quot;
</code></pre></div>
<p>Здесь мы используем переменные которые получили, когда создавали проект в harbor:<br />
HARBOR_HOST — адрес реестра контейнеров;<br />
HARBOR_USER — имя пользователя для авторизации в реестре;<br />
HARBOR_PASSWORD — пароль для авторизации в реестре;<br />
HARBOR_PROJECT — имя загружаемого образа;  </p>
<p>В качестве тега воспользуемся комбинацией имени ветки (CI_COMMIT_REF_NAME) и первых восьми символов хеша коммита (CI_COMMIT_SHORT_SHA).  </p>
<p>Обе эти переменные предопределны и доступны всем задачам, также доступно множество других предопределенных переменных, полный список смотрите в <a href="https://docs.gitlab.com/ee/ci/variables/predefined_variables.html">документации</a>.  </p>
<p>Также обратим внимание на директиву interruptible: false — она значит, что задача не будет отменена, если запустится новый такой же пайплайн. Используйте этот параметр для задач, создающих побочные эффекты во внешних системах, особенно в задачах, выполняющих развертывания.<br />
Получим следующий пайплайн:</p>
<div class="highlight"><pre><span></span><code>stages:
  - build
  - publish
variables:
  NODEJS_IMAGE: registry.devops-teta.ru/materials/ci/images/nodejs:18.18.2-bookworm
  KANIKO_IMAGE: registry.devops-teta.ru/materials/ci/images/kaniko:1.9.1

# @NoArtifactsToSource
Lint:
  stage: .pre
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    ESLINT_CODE_QUALITY_REPORT: eslint.codequality.json
    NEXT_TELEMETRY_DISABLED: &quot;1&quot;
    NPM_CONFIG_CACHE: $CI_PROJECT_DIR/.cache/npm
  cache:
    - key: npm-packages
      paths:
        - .cache
    - key:
        prefix: npm-node-modules
        files:
          - package-lock.json
      paths:
        - node_modules
  script:
    - if [ ! -e node_modules ] ; then npm clean-install ; fi
    - npm run lint -- --format gitlab
  artifacts:
    paths:
      - $ESLINT_CODE_QUALITY_REPORT
    reports:
      codequality: $ESLINT_CODE_QUALITY_REPORT

# @NoArtifactsToSource
Build Package:
  stage: build
  needs: []
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    NEXT_TELEMETRY_DISABLED: &quot;1&quot;
    NPM_CONFIG_CACHE: $CI_PROJECT_DIR/.cache/npm
  cache:
    - key: npm-packages
      paths:
        - .cache
      unprotect: true
    - key:
        prefix: npm-node-modules
        files:
          - package-lock.json
      paths:
        - node_modules
      unprotect: true
    - key: npm-next-cache
      paths:
        - .next/cache
  script:
    - if [ ! -e node_modules ] ; then npm clean-install ; fi
    - npm run build
    - mv .next/standalone dist
    - mv public dist/public
    - mv .next/static dist/.next/static
  artifacts:
    expire_in: 1h
    paths:
      - dist

Publish Package:
  stage: publish
  needs:
    - job: Build Package
      artifacts: true
  interruptible: false
  image:
    name: $KANIKO_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    HARBOR_HOST: harbor.devops-teta.ru
    HARBOR_PROJECT: demo
    HARBOR_USER: robot_demo+gitlab
    HARBOR_PASSWORD: $__HARBOR_PASSWORD
  script:
    - b64_auth=$(printf &#39;%s:%s&#39; &quot;$HARBOR_USER&quot; &quot;$HARBOR_PASSWORD&quot; | base64 | tr -d &#39;\n&#39;)
    - &gt;-
      printf &#39;{&quot;auths&quot;: {&quot;%s&quot;: {&quot;auth&quot;: &quot;%s&quot;}}}&#39; &quot;$HARBOR_HOST&quot; &quot;$b64_auth&quot;
      &gt;/kaniko/.docker/config.json
    - &gt;-
      /kaniko/executor
      --cache
      --use-new-run
      --skip-unused-stages
      --context &quot;$CI_PROJECT_DIR&quot;
      --dockerfile &quot;$CI_PROJECT_DIR/Dockerfile&quot;
      --destination &quot;$HARBOR_HOST/$HARBOR_PROJECT/$CI_PROJECT_NAME:${CI_COMMIT_REF_NAME}_${CI_COMMIT_SHORT_SHA}&quot;
      --cache-repo &quot;$HARBOR_HOST/$HARBOR_PROJECT/$CI_PROJECT_NAME/cache&quot;
</code></pre></div>
<p>Update Cache</p>
<p>Вынесем повторяющиеся переменные на уровень пайплайна и добавим задачу Update Cache, которая будет инициализировать кеш npm. Ключи кеширования общие на проект, поэтому мы сможем переиспользовать кеш в нескольких задачах. При этом следует скопировать код инициализации кеша во все задачи, которые его используют, т.к. ошибка при получении кеша не приводит к падению задачи.</p>
<div class="highlight"><pre><span></span><code>stages:
  - build
  - publish
variables:
  NODEJS_IMAGE: registry.devops-teta.ru/materials/ci/images/nodejs:18.18.2-bookworm
  KANIKO_IMAGE: registry.devops-teta.ru/materials/ci/images/kaniko:1.9.1
  NEXT_TELEMETRY_DISABLED: &quot;1&quot;
  NPM_CONFIG_CACHE: $CI_PROJECT_DIR/.cache/npm

Update Cache:
  stage: .pre
  needs: []
  allow_failure: true
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  cache:
    - key: npm-packages
      paths:
        - .cache
      unprotect: true
    - key:
        prefix: npm-node-modules
        files:
          - package-lock.json
      paths:
        - node_modules
      unprotect: true
  script:
    - if [ ! -e node_modules ] ; then npm clean-install ; fi

# @NoArtifactsToSource
Lint:
  stage: .pre
  needs:
    - job: Update Cache
      artifacts: false
  allow_failure: true
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    ESLINT_CODE_QUALITY_REPORT: eslint.codequality.json
  cache:
    - key: npm-packages
      paths:
        - .cache
      unprotect: true
      policy: pull
    - key:
        prefix: npm-node-modules
        files:
          - package-lock.json
      paths:
        - node_modules
      unprotect: true
      policy: pull
  script:
    - if [ ! -e node_modules ] ; then npm clean-install ; fi
    - npm run lint -- --format gitlab
  artifacts:
    paths:
      - $ESLINT_CODE_QUALITY_REPORT
    reports:
      codequality: $ESLINT_CODE_QUALITY_REPORT

# @NoArtifactsToSource
Build Package:
  stage: build
  needs:
    - job: Update Cache
      artifacts: false
  image:
    name: $NODEJS_IMAGE
    entrypoint: [&quot;&quot;]
  cache:
    - key: npm-packages
      paths:
        - .cache
      unprotect: true
      policy: pull
    - key:
        prefix: npm-node-modules
        files:
          - package-lock.json
      paths:
        - node_modules
      unprotect: true
      policy: pull
    - key: npm-next-cache
      paths:
        - .next/cache
  script:
    - if [ ! -e node_modules ] ; then npm clean-install ; fi
    - npm run build
    - mv .next/standalone dist
    - mv public dist/public
    - mv .next/static dist/.next/static
  artifacts:
    expire_in: 1h
    paths:
      - dist

Publish Package:
  stage: publish
  needs:
    - job: Build Package
      artifacts: true
  interruptible: false
  image:
    name: $KANIKO_IMAGE
    entrypoint: [&quot;&quot;]
  variables:
    HARBOR_HOST: harbor.devops-teta.ru
    HARBOR_PROJECT: demo
    HARBOR_USER: robot_demo+gitlab
    HARBOR_PASSWORD: $__HARBOR_PASSWORD
  script:
    - b64_auth=$(printf &#39;%s:%s&#39; &quot;$HARBOR_USER&quot; &quot;$HARBOR_PASSWORD&quot; | base64 | tr -d &#39;\n&#39;)
    - &gt;-
      printf &#39;{&quot;auths&quot;: {&quot;%s&quot;: {&quot;auth&quot;: &quot;%s&quot;}}}&#39; &quot;$HARBOR_HOST&quot; &quot;$b64_auth&quot;
      &gt;/kaniko/.docker/config.json
    - &gt;-
      /kaniko/executor
      --cache
      --use-new-run
      --skip-unused-stages
      --context &quot;$CI_PROJECT_DIR&quot;
      --dockerfile &quot;$CI_PROJECT_DIR/Dockerfile&quot;
      --destination &quot;$HARBOR_HOST/$HARBOR_PROJECT/$CI_PROJECT_NAME:${CI_COMMIT_REF_NAME}_${CI_COMMIT_SHORT_SHA}&quot;
      --cache-repo &quot;$HARBOR_HOST/$HARBOR_PROJECT/$CI_PROJECT_NAME/cache&quot;
</code></pre></div>
<p>Добавим к задачам Update Cache и Lint параметр allow_failure: true, который указывает, что падение этой задачи не должно приводить к падению пайплайна. Также добавим параметр policy: pull к кешам в задачах Lint и Build Package, которая укажет, что после выполнения этих задач не следует обновлять кеш.<br />
Мы получили свой первый пайплайн собирающий наше приложение и загружающий финальный докер образ в Harbor.</p>
<p><img alt="" src="../img/Rectangle_240652005.png" /></p>
<p>Так же имея образ в харбор, можно видеть работу еще одного модуля Harbor — Trivy<strong>.</strong></p>
<p><img alt="" src="../img/Rectangle_240652007.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  К началу
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Нижний колонтитул" >
        
          
          <a href="../../docker/home_work2/" class="md-footer__link md-footer__link--prev" aria-label="Назад: Домашнее задание №6">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Назад
              </span>
              <div class="md-ellipsis">
                Домашнее задание №6
              </div>
            </div>
          </a>
        
        
          
          <a href="../part2/" class="md-footer__link md-footer__link--next" aria-label="Вперед: GitLab CI ч.2">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Вперед
              </span>
              <div class="md-ellipsis">
                GitLab CI ч.2
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2024, Vladimir Penzin
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://t.me/vpotd" target="_blank" rel="noopener" title="Vladimir Penzin on Telegram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/ForceFledgling" target="_blank" rel="noopener" title="Vladimir Penzin on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.action.edit", "navigation.tabs", "navigation.tabs.sticky", "navigation.footer", "navigation.instant.progress", "navigation.top", "search.highlight", "search.share"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>