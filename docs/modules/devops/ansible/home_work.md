**Домашнее задание №3**

Напишите роль для установки PostgreSQL и плейбук, устанавливающий СУБД на ВМ2.  
  
**Роль должна выполнять следующие операции:**  
 

1.  Установку пакета PostgreSQL из стандартных репозиториев Ubuntu (подключать deb-репозитории PostgreSQL не нужно);
2.  Настройку директорий с данными PostgreSQL (роль должна принимать директорию с данными как параметр, значение по-умолчанию -- /data/postgres/data);
3.  Первичную инициализацию БД при помощи команды pg\_ctl initdb -D $PGDATA;
4.  Конфигурация PostgreSQL при помощи файла $PGDATA/postgresql.conf (роль должна принимать параметры конфигурации PostgreSQL в виде словаря);
5.  Конфигурация параметров авторизации при помощи файла $PGDATA/pg\_hba.conf (роль должна принимать последовательность правил авторизации в виде списка словарей);
6.  Запуск PostgreSQL как systemd-службы;
7.  Проверку работоспособности PostgreSQL при помощи выполнения в СУБД запроса SELECT 1;
8.  Создание пользовательских БД;
9.  Создание пользователей;
10.  Установку [postgres-exporter](https://github.com/prometheus-community/postgres_exporter) на цели;
11.  Запуск postgres-exporter как systemd-службы;

  
**Для проверки предоставьте:**  
 

*   Ссылку на исходный код роли в репозитории оформленном в соответствии структуры из занятия 3;
*   Ссылку на исходный код плейбука в том же репозитории;